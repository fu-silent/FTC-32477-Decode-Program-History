# 📦 TeleOp_All v3.0 - FTC32477 控制程序（最新版）

> **本程序用于 FTC Decode 赛季（2025-2026）**
> **修改前请阅读项目根目录的 `修改指南.md`**

## ⚡ 30秒快速开始

v3.0 版本采用集中式单文件结构（Red/Blue 队独立），集成所有功能。

### 推荐方案：使用集中式单文件版本

```bash
1. 打开 TeleOp_All_3_0_Red.java 或 TeleOp_All_3_0_Blue.java
2. 在 Constants 内部类中，修改所有硬件映射名称（如 "lf", "rf", "imu" 等）
3. 编译并上传到 FTC 控制器
4. 运行 TeleOp_All_Red_3_0（或 Blue_3_0）OpMode 即可。

```

## 🎯 v3.0 特点：基于 v2.3 的全面增强v3.0 版本
在 v2.3 的无头模式和发射系统基础上，重点提升了导航精度和双驾驶员的操作效率。

| 特性 | v2.3 (基础) | v3.0 (增强) | 说明 |
| --- | --- | --- | --- |
| **航向重置** | Back 键单点重置 | **D-Pad 多角度重置** | 支持 0°, ±90°, 180° 四个标准角度校准，解决 IMU 兼容性问题。 |
| **自动瞄准** | 自动转向到单一目标 | **双自动瞄准** (D1 A/B 键) | 预设两个关键角度，适应不同的场上目标。 |
| **驾驶控制** | 隐式分工 | **D1/D2 专业分工** | D2 新增 **0.5x 精确转向**能力，专注于瞄准精度。 |
| **发射清理** | 仅装填反转 | **D2 RB 键 发射器反转** | 专用的高优先级清理键，快速解决卡物。 |
| **驱动模式** | 无头模式切换 (X 键) | **保留并优化** | 始终保持场地参考系移动。 |

## 📂 文件说明本项目包含以下核心文件：

| 文件分类 | 文件名 | 主要用途 |
| --- | --- | --- |
| **核心程序** | `TeleOp_All_3_0_Red/Blue.java` | 竞赛推荐单文件版，集成所有 v3.0 功能。 |
| **文档入口** | `README.md` (本文) | 项目概览和快速开始。 |
| **配置与操作** | `综合使用指南.md` | 配置参数、**完整按键图示**和故障排除。 |
| **功能说明** | `修改指南.md` | 代码修改原则与 v3.0 核心功能。 |
| **版本对比** | `功能对比文档.md` | v3.0 对比 v2.3 的详细改进。 |
| **项目总结** | `项目完成报告.md` | v3.0 版本的技术总结和设计目标。 |

## 🎮 D1 (主驾驶) 核心按键
| 功能         | 按键            | 说明                                     |
|------------|---------------|----------------------------------------|
| **移动/平移**  | 左摇杆 XY 轴      | 在无头模式下相对于场地移动                          |
| **原地旋转**   | 右摇杆 X 轴       | 改变车头朝向                                 |
| **无头切换**   | X 键           | **切换 无头(Field)/有头(Robot) 模式**          |
| **驱动切换**   | Y 键           | **切换 线性/非线性 底盘模式**                     |
| **重置航向**   | D-Pad ↑/↓/←/→ | **多角度重置 IMU 航向** (0°, 180°, 90°, -90°) |
| **自动瞄准 1** | A 键           | 自动转向到预设目标 1 (如 45°)                    |
| **自动瞄准 2** | B 键           | 自动转向到预设目标 2 (如 61°)                    |

## 🚀 D2 (副驾驶) 核心按键
| 功能        | 按键       | 说明                          |
|-----------|----------|-----------------------------|
| **精确转向**  | 右摇杆 X 轴  | **0.5x 减速** 接管 D1 转向，用于精细瞄准 |
| **发射/停止** | 右扳机 (RT) | **按住启动，松开停止**（PIDF 速度控制）    |
| **发射清理**  | 右肩键 (RB) | **强制发射器 500 RPM 反转**（高优先级）  |
| **转速预设**  | D-Pad    | 设置目标转速档位 (**伴随震动**)         |

```

```