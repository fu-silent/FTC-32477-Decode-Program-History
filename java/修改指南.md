# 🔧 FTC32477 程序修改指南 (v3.0)

> **重要：在对本项目进行任何修改之前，请务必阅读本文档！**

## 📋 项目基本信息

- **队伍**：FTC32477
- **赛季**：Decode（2025-2026 赛季）
- **当前版本**：v3.0.3 (Red/Blue)
- **核心功能**：
    - **多角度航向重置 (D-Pad)**：**新增**，允许 D1 快速校准 0°, ±90°, 180°。
    - **双自动瞄准**：**新增**，D1 A/B 键预设两个目标角度进行自动转向。
    - **D2 精准控制**：D2 右摇杆接管并减速底盘转向；RB 键专用于发射器 500 RPM 反转清理。
    - **无头模式 (Field-Centric)**：保留，按 X 键切换，极大提升操控直观性。
    - **高级发射系统**：D-Pad 预设转速，D2 RT 控制启停，达标震动反馈。

---

## ⚠️ 关键修改原则

### 原则 1：版本号一致性

所有文件和类必须遵循版本号约定（例如 `_3_0`）。修改时请确保所有相关文件的版本号一致。

### 原则 2：独立性原则

不同版本（v2.3, v3.0）完全独立，不允许跨版本引用类或常量。

### 原则 3：硬件配置（强制要求）

在部署前，必须在代码中的 `Constants` 类中，根据实际配置修改所有电机的硬件映射名称。

---

## 🎮 版本控制映射对比 (v3.0 最新)

| 功能 | 按键 (D1/D2) | v3.0 说明 |
|---|---|---|
| **驱动模式** | D1 Y | 切换 **线性 / 非线性 (Squared)** 模式 |
| **驱动中心** | D1 X | 切换 **有头 (Robot) / 无头 (Field)** 模式 |
| **多角度重置** | D1 D-Pad | **重置航向角到 0°/±90°/180°** |
| **自动瞄准** | D1 A/B | 自动转向到预设的两个目标角度 |
| **发射启停** | D2 RT | 按住启动，松开停止 |
| **发射反转** | D2 RB | **发射器 500 RPM 反转清理** |
| **转速预设** | D2 D-Pad | 设置目标转速（伴随震动） |
| **精确转向** | D2 右摇杆 | 接管 D1 转向输入，并以 0.5x 速度输出 |